<FlexBoxLayout [formGroup]="form" class="form" flexDirection="column" justifyContent="space-around" alignItems="center">
  <Label class="h1" text="Welcome"></Label>
  <StackLayout>
    <StackLayout class="input-field">
      <Label
        class="label"
        text="Username"
        [ngClass]="{ invalid: !usernameIsValid }"
      ></Label>
      <TextField
        #usernameElement
        formControlName="username"
        class="input"
        returnKeyType="next"
        keyboardType="email"
        required
        [autoCorrect]="false"
        autocapitalizationType="none"
        ></TextField>
      <Label class="real-mellow" *ngIf="!usernameIsValid" text="Please enter a valid username."></Label>
    </StackLayout>
    <StackLayout class="input-field">
      <Label
        class="label"
        text="Password"
        [ngClass]="{ invalid: !passwordIsValid }"
      ></Label>
      <TextField
        #passwordElement
        formControlName="password"
        class="input"
        required
        returnKeyType="done"
        [autoCorrect]="false"
        [secure]="true"
        autocapitalizationType="none"
        (returnPress)="onDone()"
        ></TextField>
      <Label class="real-mellow" *ngIf="!passwordIsValid" text="Please enter a valid password."></Label>
    </StackLayout>
  </StackLayout>
  <FlexBoxLayout width="80%" flexDirection="row" justifyContent="space-between">
    <Button
      [text]="isLogin ? 'Signup' : 'Login'"
      class="button-flat"
      (tap)="onSwitch()"
    >
    </Button>
    <Button
      *ngIf="!isLoading"
      [isEnabled]="form.valid"
      width="150"
      [text]="isLogin ? 'Login' : 'Signup'"
      class="button"
      (tap)="onSignIn()"
    ></Button>
  </FlexBoxLayout>
  <ActivityIndicator [busy]="isLoading"></ActivityIndicator>
</FlexBoxLayout>